{% extends "layout.html" %}
{% block body %}

<head>
    <!-- <script src = "./js/validations.js"></script> -->
    <script>
        function ValidationEvent() {
            // Storing Field Values In Variables
            var pamseq = document.getElementById("pamseq").value;
            var targetLength = document.getElementById("targetLength").value;
            var lcp = document.getElementById("lcp").value;
 
            if (pamseq.match(/(?![AaCcGgTtRrYySsWwKkMmBbDdHhVvNn])./g)!=null){
                alert("Use IUPAC nucleotide code only!");
                return false;
            }   
            else if(lcp > 0.6*targetLength){
                alert("Lcp should not be greater than 60% of Target Length");
                return false;
                }

            else {
                console.log("passed")
                return true;
                }
            }
    </script>
    
    <!-- <link rel="stylesheet" type="application/javascrip[t" href="{{ url_for('static', filename='validations.js') }}"> -->

</head>

    
<body>

  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <a class="navbar-brand" href="#">PredictPAM</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarColor01">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="input.html">Form</a>
      </li>
    </ul>
    
  </div>
</nav>

    <div id="error"></div>
    <form action="handle_form" method="post" enctype="multipart/form-data" id="form" onsubmit="return ValidationEvent()">
    	<div class="form-control-label" style="font-size: 26px">PAM Sequence</div>
         <input class="form-control form-control-lg" name="pamseq" id="pamseq" type="text" required="true"><br>
         <div class="form-control-label" style="font-size: 26px">Target Length</div>
         <input class="form-control form-control-lg" name="targetLength" id="targetLength" type="number" value="22" max="30" min="10"><br>
         <div class="form-control-label" style="font-size: 26px">Strand</div>
         <select class="form-control form-control-lg" name="strand" required="true">
			  <option value="" selected="selected">None Selected</option>
			  <option value="1">Forward</option>
			  <option value="2">Reverse</option>
			</select><br>
        <!--  <input class="form-control form-control-lg" name="strand" type="text"><br> -->
     	<div class="form-control-label" style="font-size: 26px">LCP</div>
         <input class="form-control form-control-lg" name="lcp" id="lcp" required="true" type="number" value="10"><br>

         <div class="form-control-label" style="font-size: 26px" type="number">EDS</div>
         	<select class="form-control form-control-lg" name="eds" required="true">
			  <option>0</option>
			  <option>1</option>
			  <option selected="selected">2</option>
			  <option>3</option>
			  <option>4</option>
			  <option>5</option>
			</select><br>

        <div class="form-control-label" style="font-size: 26px"> Upload gbk File</div>
        <input class="input-group input-file" type="file" name="file[]" required="true" multiple>
        <br>
        <div class="form-control-label" style="font-size: 26px">Output File Name</div>
         <input class="form-control form-control-lg" name="Output" type="string" value="out.txt">

        <input class="btn btn-outline-primary" style="margin-top: 20px" type="submit" value="Submit">
    </form>
</body>

{% endblock %}